var m=(function app(aQ,x){var aj="v0.2.1";function aL(aY){return typeof aY==="function"}function F(aY){return Y.call(aY)==="[object Object]"}function aT(aY){return Y.call(aY)==="[object String]"}var d=Array.isArray||function(aY){return Y.call(aY)==="[object Array]"};var Y={}.toString;var ad=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g,i=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/;var H=/^(AREA|BASE|BR|COL|COMMAND|EMBED|HR|IMG|INPUT|KEYGEN|LINK|META|PARAM|SOURCE|TRACK|WBR)$/;var az=function(){};var E,aA,h,aE;function ap(aY){E=aY.document;aA=aY.location;aE=aY.cancelAnimationFrame||aY.clearTimeout;h=aY.requestAnimationFrame||aY.setTimeout}ap(aQ);R.version=function(){return aj};function R(a9,aY){for(var a5=[],a3=1;a3<arguments.length;a3++){a5[a3-1]=arguments[a3]}if(F(a9)){return g(a9,a5)}var ba=aY!=null&&F(aY)&&!("tag" in aY||"view" in aY||"subtree" in aY);var a7=ba?aY:{};var a1="class" in a7?"class":"className";var a8={tag:"div",attrs:{}};var a4,a0=[];if(!aT(a9)){throw new Error("selector in m(selector, attrs, children) should be a string")}while((a4=ad.exec(a9))!=null){if(a4[1]===""&&a4[2]){a8.tag=a4[2]}else{if(a4[1]==="#"){a8.attrs.id=a4[2]}else{if(a4[1]==="."){a0.push(a4[2])}else{if(a4[3][0]==="["){var a2=i.exec(a4[3]);a8.attrs[a2[1]]=a2[3]||(a2[2]?"":true)}}}}}var aZ=ba?a5.slice(1):a5;if(aZ.length===1&&d(aZ[0])){a8.children=aZ[0]}else{a8.children=aZ}for(var a6 in a7){if(a7.hasOwnProperty(a6)){if(a6===a1&&a7[a6]!=null&&a7[a6]!==""){a0.push(a7[a6]);a8.attrs[a6]=""}else{a8.attrs[a6]=a7[a6]}}}if(a0.length){a8.attrs[a1]=a0.join(" ")}return a8}function aB(a0,aZ){for(var aY=0;aY<a0.length&&!aZ(a0[aY],aY++);){}}function s(aZ,aY){aB(aZ,function(a0,a1){return(a0=a0&&a0.attrs)&&a0.key!=null&&aY(a0,a1)})}function aM(aY){try{if(aY==null||aY.toString()==null){return""}}catch(aZ){return""}return aY}function at(aY,a2,aZ,a0){try{U(aY,a2,aZ);a2.nodeValue=a0}catch(a1){}}function aC(aZ){for(var aY=0;aY<aZ.length;aY++){if(d(aZ[aY])){aZ=aZ.concat.apply([],aZ);aY--}}return aZ}function U(aY,a0,aZ){aY.insertBefore(a0,aY.childNodes[aZ]||null)}var aX=1,aw=2,t=3;function l(a3,a2,a0,aY){s(a3,function(a7,a6){a2[a7=a7.key]=a2[a7]?{action:t,index:a6,from:a2[a7].index,element:a0.nodes[a2[a7].index]||E.createElement("div")}:{action:aw,index:a6}});var a4=[];for(var a5 in a2){a4.push(a2[a5])}var aZ=a4.sort(L),a1=new Array(a0.length);a1.nodes=a0.nodes.slice();aB(aZ,function(ba){var a8=ba.index;if(ba.action===aX){ao(a0[a8].nodes,a0[a8]);a1.splice(a8,1)}if(ba.action===aw){var a9=E.createElement("div");a9.key=a3[a8].attrs.key;U(aY,a9,a8);a1.splice(a8,0,{attrs:{key:a3[a8].attrs.key},nodes:[a9]});a1.nodes[a8]=a9}if(ba.action===t){var a7=ba.element;var a6=aY.childNodes[a8];if(a6!==a7&&a7!==null){aY.insertBefore(a7,a6||null)}a1[a8]=a0[ba.from];a1.nodes[a8]=a7}});return a1}function v(a2,a0,a1,aY){var aZ=a2.length!==a0.length;if(!aZ){s(a2,function(a4,a5){var a3=a0[a5];return aZ=a3&&a3.attrs&&a3.attrs.key!==a4.key})}return aZ?l(a2,a1,a0,aY):a0}function M(a0,aZ,aY){aB(a0,function(a1,a2){if(aZ[a2]!=null){aY.push.apply(aY,aZ[a2].nodes)}});aB(aZ.nodes,function(a2,a1){if(a2.parentNode!=null&&aY.indexOf(a2)<0){ao([a2],[aZ[a1]])}});if(a0.length<aZ.length){aZ.length=a0.length}aZ.nodes=aY}function aJ(aZ){var aY=0;s(aZ,function(){aB(aZ,function(a0){if((a0=a0&&a0.attrs)&&a0.key==null){a0.key="__mithril__"+aY++}});return 1})}function ax(a0,aZ,aY){if(a0.tag!==aZ.tag||aY.sort().join()!==Object.keys(aZ.attrs).sort().join()||a0.attrs.id!==aZ.attrs.id||a0.attrs.key!==aZ.attrs.key||(R.redraw.strategy()==="all"&&(!aZ.configContext||aZ.configContext.retain!==true))||(R.redraw.strategy()==="diff"&&aZ.configContext&&aZ.configContext.retain===false)){if(aZ.nodes.length){ao(aZ.nodes)}if(aZ.configContext&&aL(aZ.configContext.onunload)){aZ.configContext.onunload()}if(aZ.controllers){aB(aZ.controllers,function(a1){if(a1.unload){a1.onunload({preventDefault:az})}})}}}function aH(aZ,aY){return aZ.attrs.xmlns?aZ.attrs.xmlns:aZ.tag==="svg"?"http://www.w3.org/2000/svg":aZ.tag==="math"?"http://www.w3.org/1998/Math/MathML":aY}function aR(aZ,aY,a0){if(a0.length){aZ.views=aY;aZ.controllers=a0;aB(a0,function(a1){if(a1.onunload&&a1.onunload.$old){a1.onunload=a1.onunload.$old}if(b&&a1.onunload){var a2=a1.onunload;a1.onunload=az;a1.onunload.$old=a2}})}}function c(a3,a2,a1,aY,a0){if(aL(a2.attrs.config)){var aZ=a0.configContext=a0.configContext||{};a3.push(function(){return a2.attrs.config.call(a2,a1,!aY,aZ,a0)})}}function S(a1,a3,aZ,a4,a2,a6,a5,aY){var a0=a1.nodes[0];if(a4){O(a0,a3.tag,a3.attrs,a1.attrs,a2)}a1.children=w(a0,a3.tag,x,x,a3.children,a1.children,false,0,a3.attrs.contenteditable?a0:aZ,a2,a5);a1.nodes.intact=true;if(aY.length){a1.views=a6;a1.controllers=aY}return a0}function K(a2,aY,a0){var aZ;if(a2.$trusted){aZ=X(aY,a0,a2)}else{aZ=[E.createTextNode(a2)];if(!aY.nodeName.match(H)){U(aY,aZ[0],a0)}}var a1=typeof a2==="string"||typeof a2==="number"||typeof a2==="boolean"?new a2.constructor(a2):a2;a1.nodes=aZ;return a1}function q(a3,a2,aY,a1,a0,a4){var aZ=a2.nodes;if(!a1||a1!==E.activeElement){if(a3.$trusted){ao(aZ,a2);aZ=X(aY,a0,a3)}else{if(a4==="textarea"){aY.value=a3}else{if(a1){a1.innerHTML=a3}else{if(aZ[0].nodeType===1||aZ.length>1){ao(a2.nodes,a2);aZ=[E.createTextNode(a3)]}at(aY,aZ[0],a0,a3)}}}}a2=new a3.constructor(a3);a2.nodes=aZ;return a2}function av(a1,a2,aZ,aY,a3,a0,a4){return a1.nodes.length===0?K(a2,aY,aZ):a1.valueOf()!==a2.valueOf()||a3===true?q(a2,a1,aY,a0,aZ,a4):(a1.nodes.intact=true,a1)}function ae(aZ){if(aZ.$trusted){var aY=aZ.match(/<[^\/]|\>\s*[^<]/g);if(aY!=null){return aY.length}}else{if(d(aZ)){return aZ.length}}return 1}function aF(bf,a3,aZ,a1,a9,aY,a8,a5,a4){bf=aC(bf);var a7=[],be=a3.length===bf.length,a2=0;var a6={},bc=false;s(a3,function(bg,bh){bc=true;a6[a3[bh].attrs.key]={action:aX,index:bh}});aJ(bf);if(bc){a3=v(bf,a3,a6,aZ)}var a0=0;for(var ba=0,bb=bf.length;ba<bb;ba++){var bd=w(aZ,a9,a3,a1,bf[ba],a3[a0],aY,a1+a2||a2,a8,a5,a4);if(bd!==x){be=be&&bd.nodes.intact;a2+=ae(bd);a3[a0++]=bd}}if(!be){M(bf,a3,a7)}return a3}function Q(a3,a2,a1,a0,aZ){if(a2!=null){if(Y.call(a2)===Y.call(a3)){return a2}if(aZ&&aZ.nodes){var a4=a1-a0,aY=a4+(d(a3)?a3:a2.nodes).length;ao(aZ.nodes.slice(a4,aY),aZ.slice(a4,aY))}else{if(a2.nodes){ao(a2.nodes,a2)}}}a2=new a3.constructor();if(a2.tag){a2={}}a2.nodes=[];return a2}function ay(aZ,aY){return aY===x?aZ.attrs.is?E.createElement(aZ.tag,aZ.attrs.is):E.createElement(aZ.tag):aZ.attrs.is?E.createElementNS(aY,aZ.tag,aZ.attrs.is):E.createElementNS(aY,aZ.tag)}function aU(a1,a0,aZ,aY){return aY?O(a0,a1.tag,a1.attrs,{},aZ):a1.attrs}function aI(a2,a1,a0,aY,aZ,a3){return a2.children!=null&&a2.children.length>0?w(a1,a2.tag,x,x,a2.children,a0.children,true,0,a2.attrs.contenteditable?a1:aY,aZ,a3):a2.children}function C(a4,aZ,a0,a3,a2,aY,a5){var a1={tag:a4.tag,attrs:aZ,children:a0,nodes:[a3]};aR(a1,aY,a5);if(a1.children&&!a1.children.nodes){a1.children.nodes=[]}if(a4.tag==="select"&&"value" in a4.attrs){O(a3,a4.tag,{value:a4.attrs.value},{},a2)}return a1}function aS(a0,aZ,a2,aY){var a1=R.redraw.strategy()==="diff"&&a0?a0.indexOf(aZ):-1;return a1>-1?a2[a1]:typeof aY==="function"?new aY():{}}function e(a0,a1,aZ,aY){if(aY.onunload!=null){G.push({controller:aY,handler:aY.onunload})}a0.push(aZ);a1.push(aY)}function j(a3,a0,a2,a5,a4,aZ){var aY=aS(a2.views,a0,a5,a3.controller);var a1=+(a3&&a3.attrs&&a3.attrs.key);a3=b===0||ab||a5&&a5.indexOf(aY)>-1?a3.view(aY):{tag:"placeholder"};if(a3.subtree==="retain"){return a2}if(a1===a1){(a3.attrs=a3.attrs||{}).key=a1}e(aZ,a4,a0,aY);return a3}function p(a0,aZ,aY,a2){var a1=aZ&&aZ.controllers;while(a0.view!=null){a0=j(a0,a0.view.$original||a0.view,aZ,a1,a2,aY)}return a0}function r(a4,a2,a0,ba,a7,bd,a3,a8){var bc=[],aZ=[];a4=p(a4,a2,bc,aZ);if(!a4.tag&&aZ.length){throw new Error("Component template must return a virtual element, not an array, string, etc.")}a4.attrs=a4.attrs||{};a2.attrs=a2.attrs||{};var bb=Object.keys(a4.attrs);var a6=bb.length>("key" in a4.attrs?1:0);ax(a4,a2,bb);if(!aT(a4.tag)){return}var a5=a2.nodes.length===0;a3=aH(a4,a3);var a1;if(a5){a1=ay(a4,a3);var a9=aU(a4,a1,a3,a6);var aY=aI(a4,a1,a2,a0,a3,a8);a2=C(a4,a9,aY,a1,a3,bc,aZ)}else{a1=S(a2,a4,a0,a6,a3,bc,a8,aZ)}if(a5||bd===true&&a1!=null){U(ba,a1,a7)}c(a8,a4,a1,a5,a2);return a2}function w(a6,a7,a5,a1,a2,aZ,a8,a3,aY,a0,a4){a2=aM(a2);if(a2.subtree==="retain"){return aZ}aZ=Q(a2,aZ,a3,a1,a5);return d(a2)?aF(a2,aZ,a6,a3,a7,a8,aY,a0,a4):a2!=null&&F(a2)?r(a2,aZ,aY,a6,a3,a8,a0,a4):!aL(a2)?av(aZ,a2,a3,a6,a8,aY,a7):aZ}function L(aZ,aY){return aZ.action-aY.action||aZ.index-aY.index}function O(a0,a7,aY,aZ,a1){for(var a5 in aY){var a4=aY[a5];var a3=aZ[a5];if(!(a5 in aZ)||(a3!==a4)){aZ[a5]=a4;try{if(a5==="config"||a5==="key"){continue}else{if(aL(a4)&&a5.slice(0,2)==="on"){a0[a5]=aN(a4,a0)}else{if(a5==="style"&&a4!=null&&F(a4)){for(var a6 in a4){if(a3==null||a3[a6]!==a4[a6]){a0.style[a6]=a4[a6]}}for(var a6 in a3){if(!(a6 in a4)){a0.style[a6]=""}}}else{if(a1!=null){if(a5==="href"){a0.setAttributeNS("http://www.w3.org/1999/xlink","href",a4)}else{a0.setAttribute(a5==="className"?"class":a5,a4)}}else{if(a5 in a0&&a5!=="list"&&a5!=="style"&&a5!=="form"&&a5!=="type"&&a5!=="width"&&a5!=="height"){if(a7!=="input"||a0[a5]!==a4){a0[a5]=a4}}else{a0.setAttribute(a5,a4)}}}}}}catch(a2){if(a2.message.indexOf("Invalid argument")<0){throw a2}}}else{if(a5==="value"&&a7==="input"&&a0.value!=a4){a0.value=a4}}}return aZ}function ao(aY,a0){for(var aZ=aY.length-1;aZ>-1;aZ--){if(aY[aZ]&&aY[aZ].parentNode){try{aY[aZ].parentNode.removeChild(aY[aZ])}catch(a1){}a0=[].concat(a0);if(a0[aZ]){af(a0[aZ])}}}if(aY.length){aY.length=0}}function af(aY){if(aY.configContext&&aL(aY.configContext.onunload)){aY.configContext.onunload();aY.configContext.onunload=null}if(aY.controllers){aB(aY.controllers,function(aZ){if(aL(aZ.onunload)){aZ.onunload({preventDefault:az})}})}if(aY.children){if(d(aY.children)){aB(aY.children,af)}else{if(aY.children.tag){af(aY.children)}}}}var am=(function(){var aZ=function(a1,a2){a1.appendChild(E.createRange().createContextualFragment(a2))};var aY=function(a1,a2){a1.insertAdjacentHTML("beforeend",a2)};try{E.createRange().createContextualFragment("x");return aZ}catch(a0){return aY}})();function X(aY,a0,a3){var a2=aY.childNodes[a0];if(a2){var a1=a2.nodeType!==1;var a4=E.createElement("span");if(a1){aY.insertBefore(a4,a2||null);a4.insertAdjacentHTML("beforebegin",a3);aY.removeChild(a4)}else{a2.insertAdjacentHTML("beforebegin",a3)}}else{am(aY,a3)}var aZ=[];while(aY.childNodes[a0]!==a2){aZ.push(aY.childNodes[a0]);a0++}return aZ}function aN(aZ,aY){return function(a0){a0=a0||event;R.redraw.strategy("diff");R.startComputation();try{return aZ.call(aY,a0)}finally{aD()}}}var aG;var aO={appendChild:function(aY){if(aG===x){aG=E.createElement("html")}if(E.documentElement&&E.documentElement!==aY){E.replaceChild(aY,E.documentElement)}else{E.appendChild(aY)}this.childNodes=E.childNodes},insertBefore:function(aY){this.appendChild(aY)},childNodes:[]};var ak=[],Z={};R.render=function(a0,aY,aZ){var a3=[];if(!a0){throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.")}var a4=N(a0);var a1=a0===E;var a2=a1||a0===E.documentElement?aO:a0;if(a1&&aY.tag!=="html"){aY={tag:"html",attrs:{},children:aY}}if(Z[a4]===x){ao(a2.childNodes)}if(aZ===true){aa(a0)}Z[a4]=w(a2,null,x,x,aY,Z[a4],false,0,null,x,a3);aB(a3,function(a5){a5()})};function N(aZ){var aY=ak.indexOf(aZ);return aY<0?ak.push(aZ)-1:aY}R.trust=function(aY){aY=new String(aY);aY.$trusted=true;return aY};function A(aY){var aZ=function(){if(arguments.length){aY=arguments[0]}return aY};aZ.toJSON=function(){return aY};return aZ}R.prop=function(aY){if((aY!=null&&F(aY)||aL(aY))&&aL(aY.then)){return J(aY)}return A(aY)};var V=[],al=[],ah=[],n=null,aP=0,z=null,T=null,D,G=[];var aV=16;function g(a2,a1){var aZ=function(){return(a2.controller||az).apply(this,a1)||this};if(a2.controller){aZ.prototype=a2.controller.prototype}var aY=function(a4){var a3=arguments.length>1?a1.concat([].slice.call(arguments,1)):a1;return a2.view.apply(a2,a3?[a4].concat(a3):[a4])};aY.$original=a2.view;var a0={controller:aZ,view:aY};if(a1[0]&&a1[0].key!=null){a0.attrs={key:a1[0].key}}return a0}R.component=function(aZ){for(var aY=[],a0=1;a0<arguments.length;a0++){aY.push(arguments[a0])}return g(aZ,aY)};R.mount=R.module=function(a0,a4){if(!a0){throw new Error("Please ensure the DOM element exists before rendering a template into it.")}var a3=V.indexOf(a0);if(a3<0){a3=V.length}var aY=false;var a5={preventDefault:function(){aY=true;z=T=null}};aB(G,function(a6){a6.handler.call(a6.controller,a5);a6.controller.onunload=null});if(aY){aB(G,function(a6){a6.controller.onunload=a6.handler})}else{G=[]}if(ah[a3]&&aL(ah[a3].onunload)){ah[a3].onunload(a5)}var a2=a4===null;if(!aY){R.redraw.strategy("all");R.startComputation();V[a3]=a0;var a1=a4?(D=a4):(D=a4={controller:az});var aZ=new (a4.controller||az)();if(a1===D){ah[a3]=aZ;al[a3]=a4}aD();if(a2){y(a0,a3)}return ah[a3]}if(a2){y(a0,a3)}};function y(aY,aZ){V.splice(aZ,1);ah.splice(aZ,1);al.splice(aZ,1);aa(aY);ak.splice(N(aY),1)}var aq=false,ab=false;R.redraw=function(aY){if(aq){return}aq=true;if(aY){ab=true}try{if(n&&!aY){if(h===aQ.requestAnimationFrame||new Date-aP>aV){if(n>0){aE(n)}n=h(P,aV)}}else{P();n=h(function(){n=null},aV)}}finally{aq=ab=false}};R.redraw.strategy=R.prop();function P(){if(z){z();z=null}aB(V,function(aY,a1){var a0=al[a1];if(ah[a1]){var aZ=[ah[a1]];R.render(aY,a0.view?a0.view(ah[a1],aZ):"")}});if(T){T();T=null}n=null;aP=new Date;R.redraw.strategy("diff")}var b=0;R.startComputation=function(){b++};R.endComputation=function(){if(b>1){b--}else{b=0;R.redraw()}};function aD(){if(R.redraw.strategy()==="none"){b--;R.redraw.strategy("diff")}else{R.endComputation()}}R.withAttr=function(a0,aY,aZ){return function(a2){a2=a2||event;var a1=a2.currentTarget||this;var a3=aZ||this;aY.call(a3,a0 in a1?a1[a0]:a1.getAttribute(a0))}};var u={pathname:"",hash:"#",search:"?"};var o=az,ac,ai,I=false;R.route=function(a8,a4,a3,a5){if(arguments.length===0){return ai}else{if(arguments.length===3&&aT(a4)){o=function(bb){var bc=ai=k(bb);if(!aW(a8,a3,bc)){if(I){throw new Error("Ensure the default route matches one of the routes defined in m.route")}I=true;R.route(a4,true);I=false}};var a0=R.route.mode==="hash"?"onhashchange":"onpopstate";aQ[a0]=function(){var bb=aA[R.route.mode];if(R.route.mode==="pathname"){bb+=aA.search}if(ai!==k(bb)){o(bb)}};z=a;aQ[a0]()}else{if(a8.addEventListener||a8.attachEvent){a8.href=(R.route.mode!=="pathname"?aA.pathname:"")+u[R.route.mode]+a5.attrs.href;if(a8.addEventListener){a8.removeEventListener("click",au);a8.addEventListener("click",au)}else{a8.detachEvent("onclick",au);a8.attachEvent("onclick",au)}}else{if(aT(a8)){var aY=ai;ai=a8;var a7=a4||{};var aZ=ai.indexOf("?");var a1=aZ>-1?ag(ai.slice(aZ+1)):{};for(var a2 in a7){a1[a2]=a7[a2]}var a9=an(a1);var ba=aZ>-1?ai.slice(0,aZ):ai;if(a9){ai=ba+(ba.indexOf("?")===-1?"?":"&")+a9}var a6=(arguments.length===3?a3:a4)===true||aY===a8;if(aQ.history.pushState){z=a;T=function(){aQ.history[a6?"replaceState":"pushState"](null,E.title,u[R.route.mode]+ai)};o(u[R.route.mode]+ai)}else{aA[R.route.mode]=ai;o(u[R.route.mode]+ai)}}}}}};R.route.param=function(aY){if(!ac){throw new Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()")}if(!aY){return ac}return ac[aY]};R.route.mode="search";function k(aY){return aY.slice(u[R.route.mode].length)}function aW(aY,a0,a5){ac={};var a3=a5.indexOf("?");if(a3!==-1){ac=ag(a5.substr(a3+1,a5.length));a5=a5.substr(0,a3)}var a2=Object.keys(a0);var a1=a2.indexOf(a5);if(a1!==-1){R.mount(aY,a0[a2[a1]]);return true}for(var aZ in a0){if(aZ===a5){R.mount(aY,a0[aZ]);return true}var a4=new RegExp("^"+aZ.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(a4.test(a5)){a5.replace(a4,function(){var a7=aZ.match(/:[^\/]+/g)||[];var a6=[].slice.call(arguments,1,-2);aB(a7,function(a9,a8){ac[a9.replace(/:|\./g,"")]=decodeURIComponent(a6[a8])});R.mount(aY,a0[aZ])});return true}}}function au(a0){a0=a0||event;if(a0.ctrlKey||a0.metaKey||a0.which===2){return}if(a0.preventDefault){a0.preventDefault()}else{a0.returnValue=false}var aZ=a0.currentTarget||a0.srcElement;var aY=R.route.mode==="pathname"&&aZ.search?ag(aZ.search.slice(1)):{};while(aZ&&aZ.nodeName.toUpperCase()!=="A"){aZ=aZ.parentNode}R.route(aZ[R.route.mode].slice(u[R.route.mode].length),aY)}function a(){if(R.route.mode!=="hash"&&aA.hash){aA.hash=aA.hash}else{aQ.scrollTo(0,0)}}function an(aY,a2){var a5={};var a3=[];for(var a4 in aY){var aZ=a2?a2+"["+a4+"]":a4;var a1=aY[a4];if(a1===null){a3.push(encodeURIComponent(aZ))}else{if(F(a1)){a3.push(an(a1,aZ))}else{if(d(a1)){var a0=[];a5[aZ]=a5[aZ]||{};aB(a1,function(a6){if(!a5[aZ][a6]){a5[aZ][a6]=true;a0.push(encodeURIComponent(aZ)+"="+encodeURIComponent(a6))}});a3.push(a0.join("&"))}else{if(a1!==x){a3.push(encodeURIComponent(aZ)+"="+encodeURIComponent(a1))}}}}}return a3.join("&")}function ag(a0){if(a0===""||a0==null){return{}}if(a0.charAt(0)==="?"){a0=a0.slice(1)}var aY=a0.split("&"),aZ={};aB(aY,function(a1){var a4=a1.split("=");var a2=decodeURIComponent(a4[0]);var a3=a4.length===2?decodeURIComponent(a4[1]):null;if(aZ[a2]!=null){if(!d(aZ[a2])){aZ[a2]=[aZ[a2]]}aZ[a2].push(a3)}else{aZ[a2]=a3}});return aZ}R.route.buildQueryString=an;R.route.parseQueryString=ag;function aa(aY){var aZ=N(aY);ao(aY.childNodes,Z[aZ]);Z[aZ]=x}R.deferred=function(){var aY=new f();aY.promise=J(aY.promise);return aY};function J(aZ,aY){var a0=R.prop(aY);aZ.then(a0);a0.then=function(a2,a1){return J(aZ.then(a2,a1),aY)};a0["catch"]=a0.then.bind(null,null);a0["finally"]=function(a2){var a1=function(){return R.deferred().resolve(a2()).promise};return a0.then(function(a3){return J(a1().then(function(){return a3}),aY)},function(a3){return J(a1().then(function(){throw new Error(a3)}),aY)})};return a0}function f(a2,aZ){var a9=1,a4=2,a3=3,a5=4;var ba=this,aY=0,a1=0,a6=[];ba.promise={};ba.resolve=function(bb){if(!aY){a1=bb;aY=a9;a0()}return this};ba.reject=function(bb){if(!aY){a1=bb;aY=a4;a0()}return this};ba.promise.then=function(bb,bd){var bc=new f(bb,bd);if(aY===a3){bc.resolve(a1)}else{if(aY===a5){bc.reject(a1)}else{a6.push(bc)}}return bc.promise};function a8(bb){aY=bb||a5;a6.map(function(bc){aY===a3?bc.resolve(a1):bc.reject(a1)})}function a7(bg,bb,bf,be){if(((a1!=null&&F(a1))||aL(a1))&&aL(bg)){try{var bc=0;bg.call(a1,function(bh){if(bc++){return}a1=bh;bb()},function(bh){if(bc++){return}a1=bh;bf()})}catch(bd){R.deferred.onerror(bd);a1=bd;bf()}}else{be()}}function a0(){var bc;try{bc=a1&&a1.then}catch(bb){R.deferred.onerror(bb);a1=bb;aY=a4;return a0()}a7(bc,function(){aY=a9;a0()},function(){aY=a4;a0()},function(){try{if(aY===a9&&aL(a2)){a1=a2(a1)}else{if(aY===a4&&aL(aZ)){a1=aZ(a1);aY=a9}}}catch(bd){R.deferred.onerror(bd);a1=bd;return a8()}if(a1===ba){a1=TypeError();a8()}else{a7(bc,function(){a8(a3)},a8,function(){a8(aY===a9&&a3)})}})}}R.deferred.onerror=function(aY){if(Y.call(aY)==="[object Error]"&&!aY.constructor.toString().match(/ Error/)){b=0;throw aY}};R.sync=function(aZ){var a3="resolve";function a2(a5,a4){return function(a6){a0[a5]=a6;if(!a4){a3="reject"}if(--a1===0){aY.promise(a0);aY[a3](a0)}return a6}}var aY=R.deferred();var a1=aZ.length;var a0=new Array(a1);if(aZ.length>0){aB(aZ,function(a4,a5){a4.then(a2(a5,true),a2(a5,false))})}else{aY.resolve([])}return aY.promise};function W(aY){return aY}function aK(a0){if(a0.dataType&&a0.dataType.toLowerCase()==="jsonp"){var aY="mithril_callback_"+new Date().getTime()+"_"+(Math.round(Math.random()*10000000000000000)).toString(36);var aZ=E.createElement("script");aQ[aY]=function(a4){aZ.parentNode.removeChild(aZ);a0.onload({type:"load",target:{responseText:a4}});aQ[aY]=x};aZ.onerror=function(){aZ.parentNode.removeChild(aZ);a0.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}});aQ[aY]=x;return false};aZ.onload=function(){return false};aZ.src=a0.url+(a0.url.indexOf("?")>0?"&":"?")+(a0.callbackKey?a0.callbackKey:"callback")+"="+aY+"&"+an(a0.data||{});E.body.appendChild(aZ)}else{var a3=new aQ.XMLHttpRequest();a3.open(a0.method,a0.url,true,a0.user,a0.password);a3.onreadystatechange=function(){if(a3.readyState===4){if(a3.status>=200&&a3.status<300){a0.onload({type:"load",target:a3})}else{a0.onerror({type:"error",target:a3})}}};if(a0.serialize===JSON.stringify&&a0.data&&a0.method!=="GET"){a3.setRequestHeader("Content-Type","application/json; charset=utf-8")}if(a0.deserialize===JSON.parse){a3.setRequestHeader("Accept","application/json, text/*")}if(aL(a0.config)){var a2=a0.config(a3,a0);if(a2!=null){a3=a2}}var a1=a0.method==="GET"||!a0.data?"":a0.data;if(a1&&(!aT(a1)&&a1.constructor!==aQ.FormData)){throw new Error("Request data should be either be a string or FormData. Check the `serialize` option in `m.request`")}a3.send(a1);return a3}}function ar(a2,a1,aZ){if(a2.method==="GET"&&a2.dataType!=="jsonp"){var a0=a2.url.indexOf("?")<0?"?":"&";var aY=an(a1);a2.url=a2.url+(aY?a0+aY:"")}else{a2.data=aZ(a1)}return a2}function B(aY,aZ){var a0=aY.match(/:[a-z]\w+/gi);if(a0&&aZ){aB(a0,function(a2){var a1=a2.slice(1);aY=aY.replace(a2,aZ[a1]);delete aZ[a1]})}return aY}R.request=function(a3){if(a3.background!==true){R.startComputation()}var aZ=new f();var a1=a3.dataType&&a3.dataType.toLowerCase()==="jsonp";var a0=a3.serialize=a1?W:a3.serialize||JSON.stringify;var aY=a3.deserialize=a1?W:a3.deserialize||JSON.parse;var a2=a1?function(a4){return a4.responseText}:a3.extract||function(a4){if(a4.responseText.length===0&&aY===JSON.parse){return null}else{return a4.responseText}};a3.method=(a3.method||"GET").toUpperCase();a3.url=B(a3.url,a3.data);a3=ar(a3,a3.data,a0);a3.onload=a3.onerror=function(a6){try{a6=a6||event;var a4=(a6.type==="load"?a3.unwrapSuccess:a3.unwrapError)||W;var a5=a4(aY(a2(a6.target,a3)),a6.target);if(a6.type==="load"){if(d(a5)&&a3.type){aB(a5,function(a8,a7){a5[a7]=new a3.type(a8)})}else{if(a3.type){a5=new a3.type(a5)}}}aZ[a6.type==="load"?"resolve":"reject"](a5)}catch(a6){R.deferred.onerror(a6);aZ.reject(a6)}if(a3.background!==true){R.endComputation()}};aK(a3);aZ.promise=J(aZ.promise,a3.initialValue);return aZ.promise};R.deps=function(aY){ap(aQ=aY||aQ);return aQ};R.deps.factory=app;return R})(typeof window!=="undefined"?window:{});if(typeof module==="object"&&module!=null&&module.exports){module.exports=m}else{if(typeof define==="function"&&define.amd){define(function(){return m})}}var article={title:"极客推动工作室",slogan:"简单专注 且有爱心",sections:[{type:"text",title:"我们是谁",body:["极客（Geek），是一群拒绝普通，专注于自己的兴趣爱好，并把事情做到完美极致的人。","而科技界的极客们——我们，则是相信可以通过自己的技术和热情，让沟通变简单，生活变丰富。"]},{type:"text-image",title:"我们做什么",body:[{title:"宗旨与信念",body:"本着简单专注，且有爱心的信念，我们致力于用自己的技能搭建有效沟通的网络平台。我们相信一个卓越的本地论坛会极大的丰富和便捷海外华人的生活。",image:"image/do1.png"},{title:"两个论坛 两个平台",body:"六年前，我们创建了缤纷休斯顿，一年前缤纷达拉斯上线。没有垃圾信息，没有打折推广，给用户一个纯粹的信息交流环境。每年义务组织“四月看野花”和“七夕单身聚会”活动，服务用户，加深羁绊。",image:"image/do2.jpg"},{title:"愿景与未来",body:"我们在不断开发论坛新版本。为了用户使用方便，从电脑版到平板手机自适应版，再到马上即将上线的app版。我们也在不断丰富论坛内容，推出免费电子黄页活动，建立本地生活信息库。",image:"image/do3.jpg"}]},{type:"card",title:"联系我们",body:[{title:"缤纷休斯顿",body:["Web: http://www.houstonbbs.com","Email: admin@houstonbbs.com"]},{title:"缤纷达拉斯",body:["Web: http://www.dallasbbs.com","Email: admin@dallasbbs.com"]},{title:"微信公众号",body:["/wechat.jpg"]}]},],};var configLinks=function(a){$(window).load(function(){var c={},b=$("div.nav nav"),d=b.height();$("div.nav a",a).each(function(){var g=$(this).attr("href");if(g){c[g]=$(g).offset().top-d;if(c[g]<0){c[g]=0}}}).click(function(g){g.preventDefault();$("html, body").animate({scrollTop:c[$(this).attr("href")]+"px"});$(".active",this.parentNode).removeClass("active");$(this).addClass("active")});var f;var e=function(){var h,j=$(window).scrollTop();for(var g in c){if(c[g]<=j){h=g}else{break}}if(f!=h){b.find("a.active").removeClass("active");b.find("a[href="+h+"]").addClass("active");f=h}};e();$(window).scroll(e)})};var Article={view:function(a){return m("article",{config:configLinks},[m.component(Header),article.sections.map(function(c,b){switch(c.type){case"text":return m.component(TextSection,{id:"section"+b,data:c});break;case"text-image":return m.component(TextImageSection,{id:"section"+b,data:c});break;case"card":return m.component(CardSection,{id:"section"+b,data:c});break;default:return}}),m.component(Footer)])}};var Header={view:function(a){return m("header",{id:"home"},[m("div.nav",[m("img",{src:"logo.jpg"}),m("nav",m("a",{href:"#home"},"主页"),article.sections.map(function(c,b){return m("a",{href:"#section"+b},c.title)}))]),m("section",[m("h1",article.title),m("h2",article.slogan)])])}};var Footer={view:function(b,a){return m("footer","Copyright © 2015 GeekPush.com. All rights reserved.")}};var TextSection={view:function(b,a){var c=a.data;return m("section",{id:a.id},[m("h1",c.title),m("p",c.body.map(function(d){return[d,m("br")]}))])}};var TextImageSection={view:function(b,a){var c=a.data;return m("section",{id:a.id},[m("h1",c.title),c.body.map(function(d){return m("div.text-image",[m("p",[m("h2",d.title),m("p",d.body)]),m("img",{src:d.image})])})])}};var CardSection={view:function(b,a){var c=a.data;return m("section",{id:a.id},[m("h1",c.title),m("div",c.body.map(function(d){return m("div.card",[m("h2",d.title),m("p",d.body.map(function(e){return[m.trust(e.replace(/(\s|^)(https?:\/\/[\w\-\.\/]{10,}.jpg)(\s|$)/g,"$1<img src='$2'>$3").replace(/(\s|^)(\/[\w\-\.\/]{3,}.jpg)(\s|$)/g,"$1<img src='$2'>$3").replace(/(\s|^)(https?:\/\/)(([\w\-]{2,10}\.){1,4}\w{2,10}(:[0-9]{1,5})?(\/[^\s<"\'\(\)\[\]\|]*)?)/g,"$1<a href='$2$3'>$3</a>").replace(/(([\w\-\.]{2,})@([\w\-]{2,10}\.){1,3}\w{2,10})/g,"<a href='mailto:$1'>$1</a>")+"<br>")]}))])}))])}};m.mount(document.getElementById("page"),m.component(Article,article));