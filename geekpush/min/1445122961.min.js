var m=(function app(aP,x){function aK(aX){return typeof aX==="function"}function F(aX){return Y.call(aX)==="[object Object]"}function aS(aX){return Y.call(aX)==="[object String]"}var d=Array.isArray||function(aX){return Y.call(aX)==="[object Array]"};var Y={}.toString;var ad=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g,i=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/;var H=/^(AREA|BASE|BR|COL|COMMAND|EMBED|HR|IMG|INPUT|KEYGEN|LINK|META|PARAM|SOURCE|TRACK|WBR)$/;var ay=function(){};var E,az,h,aD;function ao(aX){E=aX.document;az=aX.location;aD=aX.cancelAnimationFrame||aX.clearTimeout;h=aX.requestAnimationFrame||aX.setTimeout}ao(aP);function R(a8,aX){for(var a4=[],a2=1;a2<arguments.length;a2++){a4[a2-1]=arguments[a2]}if(F(a8)){return g(a8,a4)}var a9=aX!=null&&F(aX)&&!("tag" in aX||"view" in aX||"subtree" in aX);var a6=a9?aX:{};var a0="class" in a6?"class":"className";var a7={tag:"div",attrs:{}};var a3,aZ=[];if(!aS(a8)){throw new Error("selector in m(selector, attrs, children) should be a string")}while((a3=ad.exec(a8))!=null){if(a3[1]===""&&a3[2]){a7.tag=a3[2]}else{if(a3[1]==="#"){a7.attrs.id=a3[2]}else{if(a3[1]==="."){aZ.push(a3[2])}else{if(a3[3][0]==="["){var a1=i.exec(a3[3]);a7.attrs[a1[1]]=a1[3]||(a1[2]?"":true)}}}}}var aY=a9?a4.slice(1):a4;if(aY.length===1&&d(aY[0])){a7.children=aY[0]}else{a7.children=aY}for(var a5 in a6){if(a6.hasOwnProperty(a5)){if(a5===a0&&a6[a5]!=null&&a6[a5]!==""){aZ.push(a6[a5]);a7.attrs[a5]=""}else{a7.attrs[a5]=a6[a5]}}}if(aZ.length){a7.attrs[a0]=aZ.join(" ")}return a7}function aA(aZ,aY){for(var aX=0;aX<aZ.length&&!aY(aZ[aX],aX++);){}}function s(aY,aX){aA(aY,function(aZ,a0){return(aZ=aZ&&aZ.attrs)&&aZ.key!=null&&aX(aZ,a0)})}function aL(aX){try{if(aX==null||aX.toString()==null){return""}}catch(aY){return""}return aX}function ar(aX,a1,aY,aZ){try{T(aX,a1,aY);a1.nodeValue=aZ}catch(a0){}}function aB(aY){for(var aX=0;aX<aY.length;aX++){if(d(aY[aX])){aY=aY.concat.apply([],aY);aX--}}return aY}function T(aX,aZ,aY){aX.insertBefore(aZ,aX.childNodes[aY]||null)}var aW=1,av=2,t=3;function l(a2,a1,aZ,aX){s(a2,function(a6,a5){a1[a6=a6.key]=a1[a6]?{action:t,index:a5,from:a1[a6].index,element:aZ.nodes[a1[a6].index]||E.createElement("div")}:{action:av,index:a5}});var a3=[];for(var a4 in a1){a3.push(a1[a4])}var aY=a3.sort(L),a0=new Array(aZ.length);a0.nodes=aZ.nodes.slice();aA(aY,function(a9){var a7=a9.index;if(a9.action===aW){an(aZ[a7].nodes,aZ[a7]);a0.splice(a7,1)}if(a9.action===av){var a8=E.createElement("div");a8.key=a2[a7].attrs.key;T(aX,a8,a7);a0.splice(a7,0,{attrs:{key:a2[a7].attrs.key},nodes:[a8]});a0.nodes[a7]=a8}if(a9.action===t){var a6=a9.element;var a5=aX.childNodes[a7];if(a5!==a6&&a6!==null){aX.insertBefore(a6,a5||null)}a0[a7]=aZ[a9.from];a0.nodes[a7]=a6}});return a0}function v(a1,aZ,a0,aX){var aY=a1.length!==aZ.length;if(!aY){s(a1,function(a3,a4){var a2=aZ[a4];return aY=a2&&a2.attrs&&a2.attrs.key!==a3.key})}return aY?l(a1,a0,aZ,aX):aZ}function M(aZ,aY,aX){aA(aZ,function(a0,a1){if(aY[a1]!=null){aX.push.apply(aX,aY[a1].nodes)}});aA(aY.nodes,function(a1,a0){if(a1.parentNode!=null&&aX.indexOf(a1)<0){an([a1],[aY[a0]])}});if(aZ.length<aY.length){aY.length=aZ.length}aY.nodes=aX}function aI(aY){var aX=0;s(aY,function(){aA(aY,function(aZ){if((aZ=aZ&&aZ.attrs)&&aZ.key==null){aZ.key="__mithril__"+aX++}});return 1})}function aw(aZ,aY,aX){if(aZ.tag!==aY.tag||aX.sort().join()!==Object.keys(aY.attrs).sort().join()||aZ.attrs.id!==aY.attrs.id||aZ.attrs.key!==aY.attrs.key||(R.redraw.strategy()==="all"&&(!aY.configContext||aY.configContext.retain!==true))||(R.redraw.strategy()==="diff"&&aY.configContext&&aY.configContext.retain===false)){if(aY.nodes.length){an(aY.nodes)}if(aY.configContext&&aK(aY.configContext.onunload)){aY.configContext.onunload()}if(aY.controllers){aA(aY.controllers,function(a0){if(a0.unload){a0.onunload({preventDefault:ay})}})}}}function aG(aY,aX){return aY.attrs.xmlns?aY.attrs.xmlns:aY.tag==="svg"?"http://www.w3.org/2000/svg":aY.tag==="math"?"http://www.w3.org/1998/Math/MathML":aX}function aQ(aY,aX,aZ){if(aZ.length){aY.views=aX;aY.controllers=aZ;aA(aZ,function(a0){if(a0.onunload&&a0.onunload.$old){a0.onunload=a0.onunload.$old}if(b&&a0.onunload){var a1=a0.onunload;a0.onunload=ay;a0.onunload.$old=a1}})}}function c(a2,a1,a0,aX,aZ){if(aK(a1.attrs.config)){var aY=aZ.configContext=aZ.configContext||{};a2.push(function(){return a1.attrs.config.call(a1,a0,!aX,aY,aZ)})}}function S(a0,a2,aY,a3,a1,a5,a4,aX){var aZ=a0.nodes[0];if(a3){O(aZ,a2.tag,a2.attrs,a0.attrs,a1)}a0.children=w(aZ,a2.tag,x,x,a2.children,a0.children,false,0,a2.attrs.contenteditable?aZ:aY,a1,a4);a0.nodes.intact=true;if(aX.length){a0.views=a5;a0.controllers=aX}return aZ}function K(a1,aX,aZ){var aY;if(a1.$trusted){aY=X(aX,aZ,a1)}else{aY=[E.createTextNode(a1)];if(!aX.nodeName.match(H)){T(aX,aY[0],aZ)}}var a0=typeof a1==="string"||typeof a1==="number"||typeof a1==="boolean"?new a1.constructor(a1):a1;a0.nodes=aY;return a0}function q(a2,a1,aX,a0,aZ,a3){var aY=a1.nodes;if(!a0||a0!==E.activeElement){if(a2.$trusted){an(aY,a1);aY=X(aX,aZ,a2)}else{if(a3==="textarea"){aX.value=a2}else{if(a0){a0.innerHTML=a2}else{if(aY[0].nodeType===1||aY.length>1){an(a1.nodes,a1);aY=[E.createTextNode(a2)]}ar(aX,aY[0],aZ,a2)}}}}a1=new a2.constructor(a2);a1.nodes=aY;return a1}function au(a0,a1,aY,aX,a2,aZ,a3){return a0.nodes.length===0?K(a1,aX,aY):a0.valueOf()!==a1.valueOf()||a2===true?q(a1,a0,aX,aZ,aY,a3):(a0.nodes.intact=true,a0)}function ae(aY){if(aY.$trusted){var aX=aY.match(/<[^\/]|\>\s*[^<]/g);if(aX!=null){return aX.length}}else{if(d(aY)){return aY.length}}return 1}function aE(be,a2,aY,a0,a8,aX,a7,a4,a3){be=aB(be);var a6=[],bd=a2.length===be.length,a1=0;var a5={},bb=false;s(a2,function(bf,bg){bb=true;a5[a2[bg].attrs.key]={action:aW,index:bg}});aI(be);if(bb){a2=v(be,a2,a5,aY)}var aZ=0;for(var a9=0,ba=be.length;a9<ba;a9++){var bc=w(aY,a8,a2,a0,be[a9],a2[aZ],aX,a0+a1||a1,a7,a4,a3);if(bc!==x){bd=bd&&bc.nodes.intact;a1+=ae(bc);a2[aZ++]=bc}}if(!bd){M(be,a2,a6)}return a2}function Q(a2,a1,a0,aZ,aY){if(a1!=null){if(Y.call(a1)===Y.call(a2)){return a1}if(aY&&aY.nodes){var a3=a0-aZ,aX=a3+(d(a2)?a2:a1.nodes).length;an(aY.nodes.slice(a3,aX),aY.slice(a3,aX))}else{if(a1.nodes){an(a1.nodes,a1)}}}a1=new a2.constructor();if(a1.tag){a1={}}a1.nodes=[];return a1}function ax(aY,aX){return aX===x?aY.attrs.is?E.createElement(aY.tag,aY.attrs.is):E.createElement(aY.tag):aY.attrs.is?E.createElementNS(aX,aY.tag,aY.attrs.is):E.createElementNS(aX,aY.tag)}function aT(a0,aZ,aY,aX){return aX?O(aZ,a0.tag,a0.attrs,{},aY):a0.attrs}function aH(a1,a0,aZ,aX,aY,a2){return a1.children!=null&&a1.children.length>0?w(a0,a1.tag,x,x,a1.children,aZ.children,true,0,a1.attrs.contenteditable?a0:aX,aY,a2):a1.children}function C(a3,aY,aZ,a2,a1,aX,a4){var a0={tag:a3.tag,attrs:aY,children:aZ,nodes:[a2]};aQ(a0,aX,a4);if(a0.children&&!a0.children.nodes){a0.children.nodes=[]}if(a3.tag==="select"&&"value" in a3.attrs){O(a2,a3.tag,{value:a3.attrs.value},{},a1)}return a0}function aR(aZ,aY,a1,aX){var a0=R.redraw.strategy()==="diff"&&aZ?aZ.indexOf(aY):-1;return a0>-1?a1[a0]:typeof aX==="function"?new aX():{}}function e(aZ,a0,aY,aX){if(aX.onunload!=null){G.push({controller:aX,handler:aX.onunload})}aZ.push(aY);a0.push(aX)}function j(a2,aZ,a1,a4,a3,aY){var aX=aR(a1.views,aZ,a4,a2.controller);var a0=+(a2&&a2.attrs&&a2.attrs.key);a2=b===0||ab||a4&&a4.indexOf(aX)>-1?a2.view(aX):{tag:"placeholder"};if(a2.subtree==="retain"){return a1}if(a0===a0){(a2.attrs=a2.attrs||{}).key=a0}e(aY,a3,aZ,aX);return a2}function p(aZ,aY,aX,a1){var a0=aY&&aY.controllers;while(aZ.view!=null){aZ=j(aZ,aZ.view.$original||aZ.view,aY,a0,a1,aX)}return aZ}function r(a3,a1,aZ,a9,a6,bc,a2,a7){var bb=[],aY=[];a3=p(a3,a1,bb,aY);if(!a3.tag&&aY.length){throw new Error("Component template must return a virtual element, not an array, string, etc.")}a3.attrs=a3.attrs||{};a1.attrs=a1.attrs||{};var ba=Object.keys(a3.attrs);var a5=ba.length>("key" in a3.attrs?1:0);aw(a3,a1,ba);if(!aS(a3.tag)){return}var a4=a1.nodes.length===0;a2=aG(a3,a2);var a0;if(a4){a0=ax(a3,a2);var a8=aT(a3,a0,a2,a5);var aX=aH(a3,a0,a1,aZ,a2,a7);a1=C(a3,a8,aX,a0,a2,bb,aY)}else{a0=S(a1,a3,aZ,a5,a2,bb,a7,aY)}if(a4||bc===true&&a0!=null){T(a9,a0,a6)}c(a7,a3,a0,a4,a1);return a1}function w(a5,a6,a4,a0,a1,aY,a7,a2,aX,aZ,a3){a1=aL(a1);if(a1.subtree==="retain"){return aY}aY=Q(a1,aY,a2,a0,a4);return d(a1)?aE(a1,aY,a5,a2,a6,a7,aX,aZ,a3):a1!=null&&F(a1)?r(a1,aY,aX,a5,a2,a7,aZ,a3):!aK(a1)?au(aY,a1,a2,a5,a7,aX,a6):aY}function L(aY,aX){return aY.action-aX.action||aY.index-aX.index}function O(aZ,a6,aX,aY,a0){for(var a4 in aX){var a3=aX[a4];var a2=aY[a4];if(!(a4 in aY)||(a2!==a3)){aY[a4]=a3;try{if(a4==="config"||a4==="key"){continue}else{if(aK(a3)&&a4.slice(0,2)==="on"){aZ[a4]=aM(a3,aZ)}else{if(a4==="style"&&a3!=null&&F(a3)){for(var a5 in a3){if(a2==null||a2[a5]!==a3[a5]){aZ.style[a5]=a3[a5]}}for(var a5 in a2){if(!(a5 in a3)){aZ.style[a5]=""}}}else{if(a0!=null){if(a4==="href"){aZ.setAttributeNS("http://www.w3.org/1999/xlink","href",a3)}else{aZ.setAttribute(a4==="className"?"class":a4,a3)}}else{if(a4 in aZ&&a4!=="list"&&a4!=="style"&&a4!=="form"&&a4!=="type"&&a4!=="width"&&a4!=="height"){if(a6!=="input"||aZ[a4]!==a3){aZ[a4]=a3}}else{aZ.setAttribute(a4,a3)}}}}}}catch(a1){if(a1.message.indexOf("Invalid argument")<0){throw a1}}}else{if(a4==="value"&&a6==="input"&&aZ.value!=a3){aZ.value=a3}}}return aY}function an(aX,aZ){for(var aY=aX.length-1;aY>-1;aY--){if(aX[aY]&&aX[aY].parentNode){try{aX[aY].parentNode.removeChild(aX[aY])}catch(a0){}aZ=[].concat(aZ);if(aZ[aY]){af(aZ[aY])}}}if(aX.length){aX.length=0}}function af(aX){if(aX.configContext&&aK(aX.configContext.onunload)){aX.configContext.onunload();aX.configContext.onunload=null}if(aX.controllers){aA(aX.controllers,function(aY){if(aK(aY.onunload)){aY.onunload({preventDefault:ay})}})}if(aX.children){if(d(aX.children)){aA(aX.children,af)}else{if(aX.children.tag){af(aX.children)}}}}var al=(function(){var aY=function(a0,a1){a0.appendChild(E.createRange().createContextualFragment(a1))};var aX=function(a0,a1){a0.insertAdjacentHTML("beforeend",a1)};try{E.createRange().createContextualFragment("x");return aY}catch(aZ){return aX}})();function X(aX,aZ,a2){var a1=aX.childNodes[aZ];if(a1){var a0=a1.nodeType!==1;var a3=E.createElement("span");if(a0){aX.insertBefore(a3,a1||null);a3.insertAdjacentHTML("beforebegin",a2);aX.removeChild(a3)}else{a1.insertAdjacentHTML("beforebegin",a2)}}else{al(aX,a2)}var aY=[];while(aX.childNodes[aZ]!==a1){aY.push(aX.childNodes[aZ]);aZ++}return aY}function aM(aY,aX){return function(aZ){aZ=aZ||event;R.redraw.strategy("diff");R.startComputation();try{return aY.call(aX,aZ)}finally{aC()}}}var aF;var aN={appendChild:function(aX){if(aF===x){aF=E.createElement("html")}if(E.documentElement&&E.documentElement!==aX){E.replaceChild(aX,E.documentElement)}else{E.appendChild(aX)}this.childNodes=E.childNodes},insertBefore:function(aX){this.appendChild(aX)},childNodes:[]};var aj=[],Z={};R.render=function(aZ,aX,aY){var a2=[];if(!aZ){throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.")}var a3=N(aZ);var a0=aZ===E;var a1=a0||aZ===E.documentElement?aN:aZ;if(a0&&aX.tag!=="html"){aX={tag:"html",attrs:{},children:aX}}if(Z[a3]===x){an(a1.childNodes)}if(aY===true){aa(aZ)}Z[a3]=w(a1,null,x,x,aX,Z[a3],false,0,null,x,a2);aA(a2,function(a4){a4()})};function N(aY){var aX=aj.indexOf(aY);return aX<0?aj.push(aY)-1:aX}R.trust=function(aX){aX=new String(aX);aX.$trusted=true;return aX};function A(aX){var aY=function(){if(arguments.length){aX=arguments[0]}return aX};aY.toJSON=function(){return aX};return aY}R.prop=function(aX){if((aX!=null&&F(aX)||aK(aX))&&aK(aX.then)){return J(aX)}return A(aX)};var V=[],ak=[],ah=[],n=null,aO=0,z=null,U=null,D,G=[];var aU=16;function g(a1,a0){var aY=function(){return(a1.controller||ay).apply(this,a0)||this};if(a1.controller){aY.prototype=a1.controller.prototype}var aX=function(a3){var a2=arguments.length>1?a0.concat([].slice.call(arguments,1)):a0;return a1.view.apply(a1,a2?[a3].concat(a2):[a3])};aX.$original=a1.view;var aZ={controller:aY,view:aX};if(a0[0]&&a0[0].key!=null){aZ.attrs={key:a0[0].key}}return aZ}R.component=function(aY){for(var aX=[],aZ=1;aZ<arguments.length;aZ++){aX.push(arguments[aZ])}return g(aY,aX)};R.mount=R.module=function(aZ,a3){if(!aZ){throw new Error("Please ensure the DOM element exists before rendering a template into it.")}var a2=V.indexOf(aZ);if(a2<0){a2=V.length}var aX=false;var a4={preventDefault:function(){aX=true;z=U=null}};aA(G,function(a5){a5.handler.call(a5.controller,a4);a5.controller.onunload=null});if(aX){aA(G,function(a5){a5.controller.onunload=a5.handler})}else{G=[]}if(ah[a2]&&aK(ah[a2].onunload)){ah[a2].onunload(a4)}var a1=a3===null;if(!aX){R.redraw.strategy("all");R.startComputation();V[a2]=aZ;var a0=a3?(D=a3):(D=a3={controller:ay});var aY=new (a3.controller||ay)();if(a0===D){ah[a2]=aY;ak[a2]=a3}aC();if(a1){y(aZ,a2)}return ah[a2]}if(a1){y(aZ,a2)}};function y(aX,aY){V.splice(aY,1);ah.splice(aY,1);ak.splice(aY,1);aa(aX);aj.splice(N(aX),1)}var ap=false,ab=false;R.redraw=function(aX){if(ap){return}ap=true;if(aX){ab=true}try{if(n&&!aX){if(h===aP.requestAnimationFrame||new Date-aO>aU){if(n>0){aD(n)}n=h(P,aU)}}else{P();n=h(function(){n=null},aU)}}finally{ap=ab=false}};R.redraw.strategy=R.prop();function P(){if(z){z();z=null}aA(V,function(aX,a0){var aZ=ak[a0];if(ah[a0]){var aY=[ah[a0]];R.render(aX,aZ.view?aZ.view(ah[a0],aY):"")}});if(U){U();U=null}n=null;aO=new Date;R.redraw.strategy("diff")}var b=0;R.startComputation=function(){b++};R.endComputation=function(){if(b>1){b--}else{b=0;R.redraw()}};function aC(){if(R.redraw.strategy()==="none"){b--;R.redraw.strategy("diff")}else{R.endComputation()}}R.withAttr=function(aZ,aX,aY){return function(a1){a1=a1||event;var a0=a1.currentTarget||this;var a2=aY||this;aX.call(a2,aZ in a0?a0[aZ]:a0.getAttribute(aZ))}};var u={pathname:"",hash:"#",search:"?"};var o=ay,ac,ai,I=false;R.route=function(a7,a3,a2,a4){if(arguments.length===0){return ai}else{if(arguments.length===3&&aS(a3)){o=function(ba){var bb=ai=k(ba);if(!aV(a7,a2,bb)){if(I){throw new Error("Ensure the default route matches one of the routes defined in m.route")}I=true;R.route(a3,true);I=false}};var aZ=R.route.mode==="hash"?"onhashchange":"onpopstate";aP[aZ]=function(){var ba=az[R.route.mode];if(R.route.mode==="pathname"){ba+=az.search}if(ai!==k(ba)){o(ba)}};z=a;aP[aZ]()}else{if(a7.addEventListener||a7.attachEvent){a7.href=(R.route.mode!=="pathname"?az.pathname:"")+u[R.route.mode]+a4.attrs.href;if(a7.addEventListener){a7.removeEventListener("click",at);a7.addEventListener("click",at)}else{a7.detachEvent("onclick",at);a7.attachEvent("onclick",at)}}else{if(aS(a7)){var aX=ai;ai=a7;var a6=a3||{};var aY=ai.indexOf("?");var a0=aY>-1?ag(ai.slice(aY+1)):{};for(var a1 in a6){a0[a1]=a6[a1]}var a8=am(a0);var a9=aY>-1?ai.slice(0,aY):ai;if(a8){ai=a9+(a9.indexOf("?")===-1?"?":"&")+a8}var a5=(arguments.length===3?a2:a3)===true||aX===a7;if(aP.history.pushState){z=a;U=function(){aP.history[a5?"replaceState":"pushState"](null,E.title,u[R.route.mode]+ai)};o(u[R.route.mode]+ai)}else{az[R.route.mode]=ai;o(u[R.route.mode]+ai)}}}}}};R.route.param=function(aX){if(!ac){throw new Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()")}if(!aX){return ac}return ac[aX]};R.route.mode="search";function k(aX){return aX.slice(u[R.route.mode].length)}function aV(aX,aZ,a4){ac={};var a2=a4.indexOf("?");if(a2!==-1){ac=ag(a4.substr(a2+1,a4.length));a4=a4.substr(0,a2)}var a1=Object.keys(aZ);var a0=a1.indexOf(a4);if(a0!==-1){R.mount(aX,aZ[a1[a0]]);return true}for(var aY in aZ){if(aY===a4){R.mount(aX,aZ[aY]);return true}var a3=new RegExp("^"+aY.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(a3.test(a4)){a4.replace(a3,function(){var a6=aY.match(/:[^\/]+/g)||[];var a5=[].slice.call(arguments,1,-2);aA(a6,function(a8,a7){ac[a8.replace(/:|\./g,"")]=decodeURIComponent(a5[a7])});R.mount(aX,aZ[aY])});return true}}}function at(aZ){aZ=aZ||event;if(aZ.ctrlKey||aZ.metaKey||aZ.which===2){return}if(aZ.preventDefault){aZ.preventDefault()}else{aZ.returnValue=false}var aY=aZ.currentTarget||aZ.srcElement;var aX=R.route.mode==="pathname"&&aY.search?ag(aY.search.slice(1)):{};while(aY&&aY.nodeName.toUpperCase()!=="A"){aY=aY.parentNode}R.route(aY[R.route.mode].slice(u[R.route.mode].length),aX)}function a(){if(R.route.mode!=="hash"&&az.hash){az.hash=az.hash}else{aP.scrollTo(0,0)}}function am(aX,a1){var a4={};var a2=[];for(var a3 in aX){var aY=a1?a1+"["+a3+"]":a3;var a0=aX[a3];if(a0===null){a2.push(encodeURIComponent(aY))}else{if(F(a0)){a2.push(am(a0,aY))}else{if(d(a0)){var aZ=[];a4[aY]=a4[aY]||{};aA(a0,function(a5){if(!a4[aY][a5]){a4[aY][a5]=true;aZ.push(encodeURIComponent(aY)+"="+encodeURIComponent(a5))}});a2.push(aZ.join("&"))}else{if(a0!==x){a2.push(encodeURIComponent(aY)+"="+encodeURIComponent(a0))}}}}}return a2.join("&")}function ag(aZ){if(aZ===""||aZ==null){return{}}if(aZ.charAt(0)==="?"){aZ=aZ.slice(1)}var aX=aZ.split("&"),aY={};aA(aX,function(a0){var a3=a0.split("=");var a1=decodeURIComponent(a3[0]);var a2=a3.length===2?decodeURIComponent(a3[1]):null;if(aY[a1]!=null){if(!d(aY[a1])){aY[a1]=[aY[a1]]}aY[a1].push(a2)}else{aY[a1]=a2}});return aY}R.route.buildQueryString=am;R.route.parseQueryString=ag;function aa(aX){var aY=N(aX);an(aX.childNodes,Z[aY]);Z[aY]=x}R.deferred=function(){var aX=new f();aX.promise=J(aX.promise);return aX};function J(aY,aX){var aZ=R.prop(aX);aY.then(aZ);aZ.then=function(a1,a0){return J(aY.then(a1,a0),aX)};aZ["catch"]=aZ.then.bind(null,null);aZ["finally"]=function(a1){var a0=function(){return R.deferred().resolve(a1()).promise};return aZ.then(function(a2){return J(a0().then(function(){return a2}),aX)},function(a2){return J(a0().then(function(){throw new Error(a2)}),aX)})};return aZ}function f(a1,aY){var a8=1,a3=2,a2=3,a4=4;var a9=this,aX=0,a0=0,a5=[];a9.promise={};a9.resolve=function(ba){if(!aX){a0=ba;aX=a8;aZ()}return this};a9.reject=function(ba){if(!aX){a0=ba;aX=a3;aZ()}return this};a9.promise.then=function(ba,bc){var bb=new f(ba,bc);if(aX===a2){bb.resolve(a0)}else{if(aX===a4){bb.reject(a0)}else{a5.push(bb)}}return bb.promise};function a7(ba){aX=ba||a4;a5.map(function(bb){aX===a2?bb.resolve(a0):bb.reject(a0)})}function a6(bf,ba,be,bd){if(((a0!=null&&F(a0))||aK(a0))&&aK(bf)){try{var bb=0;bf.call(a0,function(bg){if(bb++){return}a0=bg;ba()},function(bg){if(bb++){return}a0=bg;be()})}catch(bc){R.deferred.onerror(bc);a0=bc;be()}}else{bd()}}function aZ(){var bb;try{bb=a0&&a0.then}catch(ba){R.deferred.onerror(ba);a0=ba;aX=a3;return aZ()}a6(bb,function(){aX=a8;aZ()},function(){aX=a3;aZ()},function(){try{if(aX===a8&&aK(a1)){a0=a1(a0)}else{if(aX===a3&&aK(aY)){a0=aY(a0);aX=a8}}}catch(bc){R.deferred.onerror(bc);a0=bc;return a7()}if(a0===a9){a0=TypeError();a7()}else{a6(bb,function(){a7(a2)},a7,function(){a7(aX===a8&&a2)})}})}}R.deferred.onerror=function(aX){if(Y.call(aX)==="[object Error]"&&!aX.constructor.toString().match(/ Error/)){b=0;throw aX}};R.sync=function(aY){var a2="resolve";function a1(a4,a3){return function(a5){aZ[a4]=a5;if(!a3){a2="reject"}if(--a0===0){aX.promise(aZ);aX[a2](aZ)}return a5}}var aX=R.deferred();var a0=aY.length;var aZ=new Array(a0);if(aY.length>0){aA(aY,function(a3,a4){a3.then(a1(a4,true),a1(a4,false))})}else{aX.resolve([])}return aX.promise};function W(aX){return aX}function aJ(aZ){if(aZ.dataType&&aZ.dataType.toLowerCase()==="jsonp"){var aX="mithril_callback_"+new Date().getTime()+"_"+(Math.round(Math.random()*10000000000000000)).toString(36);var aY=E.createElement("script");aP[aX]=function(a3){aY.parentNode.removeChild(aY);aZ.onload({type:"load",target:{responseText:a3}});aP[aX]=x};aY.onerror=function(){aY.parentNode.removeChild(aY);aZ.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}});aP[aX]=x;return false};aY.onload=function(){return false};aY.src=aZ.url+(aZ.url.indexOf("?")>0?"&":"?")+(aZ.callbackKey?aZ.callbackKey:"callback")+"="+aX+"&"+am(aZ.data||{});E.body.appendChild(aY)}else{var a2=new aP.XMLHttpRequest();a2.open(aZ.method,aZ.url,true,aZ.user,aZ.password);a2.onreadystatechange=function(){if(a2.readyState===4){if(a2.status>=200&&a2.status<300){aZ.onload({type:"load",target:a2})}else{aZ.onerror({type:"error",target:a2})}}};if(aZ.serialize===JSON.stringify&&aZ.data&&aZ.method!=="GET"){a2.setRequestHeader("Content-Type","application/json; charset=utf-8")}if(aZ.deserialize===JSON.parse){a2.setRequestHeader("Accept","application/json, text/*")}if(aK(aZ.config)){var a1=aZ.config(a2,aZ);if(a1!=null){a2=a1}}var a0=aZ.method==="GET"||!aZ.data?"":aZ.data;if(a0&&(!aS(a0)&&a0.constructor!==aP.FormData)){throw new Error("Request data should be either be a string or FormData. Check the `serialize` option in `m.request`")}a2.send(a0);return a2}}function aq(a1,a0,aY){if(a1.method==="GET"&&a1.dataType!=="jsonp"){var aZ=a1.url.indexOf("?")<0?"?":"&";var aX=am(a0);a1.url=a1.url+(aX?aZ+aX:"")}else{a1.data=aY(a0)}return a1}function B(aX,aY){var aZ=aX.match(/:[a-z]\w+/gi);if(aZ&&aY){aA(aZ,function(a1){var a0=a1.slice(1);aX=aX.replace(a1,aY[a0]);delete aY[a0]})}return aX}R.request=function(a2){if(a2.background!==true){R.startComputation()}var aY=new f();var a0=a2.dataType&&a2.dataType.toLowerCase()==="jsonp";var aZ=a2.serialize=a0?W:a2.serialize||JSON.stringify;var aX=a2.deserialize=a0?W:a2.deserialize||JSON.parse;var a1=a0?function(a3){return a3.responseText}:a2.extract||function(a3){if(a3.responseText.length===0&&aX===JSON.parse){return null}else{return a3.responseText}};a2.method=(a2.method||"GET").toUpperCase();a2.url=B(a2.url,a2.data);a2=aq(a2,a2.data,aZ);a2.onload=a2.onerror=function(a5){try{a5=a5||event;var a3=(a5.type==="load"?a2.unwrapSuccess:a2.unwrapError)||W;var a4=a3(aX(a1(a5.target,a2)),a5.target);if(a5.type==="load"){if(d(a4)&&a2.type){aA(a4,function(a7,a6){a4[a6]=new a2.type(a7)})}else{if(a2.type){a4=new a2.type(a4)}}}aY[a5.type==="load"?"resolve":"reject"](a4)}catch(a5){R.deferred.onerror(a5);aY.reject(a5)}if(a2.background!==true){R.endComputation()}};aJ(a2);aY.promise=J(aY.promise,a2.initialValue);return aY.promise};R.deps=function(aX){ao(aP=aX||aP);return aP};R.deps.factory=app;return R})(typeof window!=="undefined"?window:{});(function(){var f={title:"极客推动工作室",slogan:"简单专注 且有爱心",sections:[{type:"text",title:"我们是谁",body:["极客（Geek），是一群拒绝普通，专注于自己的兴趣爱好，并把事情做到完美极致的人。","而科技界的极客们——我们，则是相信可以通过自己的技术和热情，让沟通变简单，生活变丰富。"]},{type:"text-image",title:"我们做什么",body:[{title:"宗旨与信念",body:"本着简单专注，且有爱心的信念，我们致力于用自己的技能搭建有效沟通的网络平台。我们相信一个卓越的本地论坛会极大的丰富和便捷海外华人的生活。",image:"/geekpush/image/do1.png"},{title:"两个论坛 两个平台",body:"六年前，我们创建了缤纷休斯顿，一年前缤纷达拉斯上线。没有垃圾信息，没有打折推广，给用户一个纯粹的信息交流环境。每年义务组织“四月看野花”和“七夕单身聚会”活动，服务用户，加深羁绊。",image:"/geekpush/image/do2.jpg"},{title:"愿景与未来",body:"我们在不断开发论坛新版本。为了用户使用方便，从电脑版到平板手机自适应版，再到马上即将上线的app版。我们也在不断丰富论坛内容，推出免费电子黄页活动，建立本地生活信息库。",image:"/geekpush/image/do3.jpg"}]},{type:"card",title:"联系我们",body:[{title:"缤纷休斯顿",body:["Web: http://www.houstonbbs.com","Email: admin@houstonbbs.com"]},{title:"缤纷达拉斯",body:["Web: http://www.dallasbbs.com","Email: admin@dallasbbs.com"]},{title:"微信公众号",body:["/geekpush/image/wechat.jpg"]}]},],};var b=function(i){$(window).load(function(){var r,n=$("div.nav"),k=n.find("img"),s=n.find("a"),p=n.find("nav"),l={};var q=function(){n.css("left","-"+n.outerWidth()+"px");k.css("left","0px")};var t=function(){o=$(window).width()<768;if(o===r){return}r=o;if(r){q();k.on("click",function(){if(n.offset().left<0){n.css("left","0px");k.css("left",n.outerWidth()+"px")}else{q()}});s.on("click",q)}else{n.css("left","0px");k.css("left","0px").off("click");s.off("click",q)}var u=r?0:p.height();s.each(function(){var v=$(this).attr("href");if(v){l[v]=$(v).offset().top-u;if(l[v]<0){l[v]=0}}})};t();$(window).on("resize",t);s.click(function(u){u.preventDefault();$("html, body").animate({scrollTop:l[$(this).attr("href")]+"px"});$(".active",this.parentNode).removeClass("active");$(this).addClass("active")});var o;var j=function(){var v,w=$(window).scrollTop();for(var u in l){if(l[u]<=w){v=u}else{break}}if(o!=v){p.find("a.active").removeClass("active");p.find("a[href="+v+"]").addClass("active");o=v}};j();$(window).on("scroll",j)})};var d={view:function(i){return m("article",{config:b},[m.component(h),f.sections.map(function(k,j){switch(k.type){case"text":return m.component(a,{id:"section"+j,data:k});break;case"text-image":return m.component(g,{id:"section"+j,data:k});break;case"card":return m.component(c,{id:"section"+j,data:k});break;default:return}}),m.component(e)])}};var h={view:function(i){return m("header",{id:"home"},[m("div.nav",[m("img",{src:"/geekpush/image/logo.jpg"}),m("nav",m("a",{href:"#home"},"主页"),f.sections.map(function(k,j){return m("a",{href:"#section"+j},k.title)}))]),m("section",[m("h1",f.title),m("h2",f.slogan)])])}};var e={view:function(j,i){return m("footer","Copyright © 2015 GeekPush.com. All rights reserved.")}};var a={view:function(j,i){var k=i.data;return m("section",{id:i.id},[m("h1",k.title),m("p",k.body.map(function(l){return[l,m("br")]}))])}};var g={view:function(j,i){var k=i.data;return m("section",{id:i.id},[m("h1",k.title),k.body.map(function(l){return m("div.text-image",[m("p",[m("h2",l.title),m("p",l.body)]),m("img",{src:l.image})])})])}};var c={view:function(j,i){var k=i.data;return m("section",{id:i.id},[m("h1",k.title),m("div",k.body.map(function(l){return m("div.card",[m("h2",l.title),m("p",l.body.map(function(n){return[m.trust(n.replace(/(\s|^)(https?:\/\/[\w\-\.\/]{10,}.jpg)(\s|$)/g,"$1<img src='$2'>$3").replace(/(\s|^)(\/[\w\-\.\/]{3,}.jpg)(\s|$)/g,"$1<img src='$2'>$3").replace(/(\s|^)(https?:\/\/)(([\w\-]{2,10}\.){1,4}\w{2,10}(:[0-9]{1,5})?(\/[^\s<"\'\(\)\[\]\|]*)?)/g,"$1<a href='$2$3'>$3</a>").replace(/(([\w\-\.]{2,})@([\w\-]{2,10}\.){1,3}\w{2,10})/g,"<a href='mailto:$1'>$1</a>")+"<br>")]}))])}))])}};m.mount(document.getElementById("page"),m.component(d,f))})();